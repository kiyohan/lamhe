<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
    <style>
        body {
            font-family: 'Jost', sans-serif;
            background-color: whitesmoke;
          }
          .bar {
            position: fixed; /* Fix the navbar position */
            top: 0;
            width: 100%;
            z-index: 9999; /* Set a high z-index to ensure it stays on top */
          }
          
          .container {
            padding-top: 100px; /* Add padding to the top of the container to prevent content from being hidden behind the fixed navbar */
          }
          
          *{
            padding: 0;
            margin: 0;
            text-decoration: none;
            list-style: none;
            box-sizing: border-box;
          }
          nav{
            background: #0082e6;
            height: 80px;
            width: 100%;
            z-index: 3;
            position: relative;
          }
          label.logo{
            color: white;
            font-size: 35px;
            line-height: 80px;
            padding: 0 100px;
            font-weight: bold;    
          }
          nav ul{
            float: right;
            margin-right: 20px;
          }
          nav ul li{
            display: inline-block;
            line-height: 80px;
            margin: 0 5px;
          }
          nav ul li a{
            color: white;
            font-size: 17px;
            padding: 7px 13px;
            border-radius: 3px;
            text-transform: uppercase;
          }
          a.active,a:hover{
            background: #1b9bff;
            transition: .5s;
          }
          /* button {
            margin: 10px;
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
          }  */
          .checkbtn{
            font-size: 30px;
            color: white;
            float: right;
            line-height: 80px;
            margin-right: 40px;
            cursor: pointer;
            display: none;    
          }
          #check{
            display: none;
          }
          @media (max-width: 952px){
            label.logo{
                font-size: 30px;
                padding-left: 50px;
            }
            nav ul li a{
                font-size: 16px;
            }
          }
          @media (max-width: 858px){
            .checkbtn{
                display: block;
            }
            ul{
                position: fixed;
                width: 100%;
                height: 100vh;
                background: #2c3e50;
                top: 80px;
                left: -100%;
                text-align: center;
                transition: all .5s;
          }
          nav ul li{
            display: block;
            margin: 50px 0;
            line-height: 30px;
          }
            nav ul li a{
                font-size: 20px;
            }
            a:hover,a.active{
                background: none;
                color: #0082e6;
            }
            #check:checked ~ ul{
                left: 0;
            }
          }
          .bar{
            position: sticky;
            top: 0;
          }
          
          .app {
            max-width: 1224px;
            width: 92%;
            margin: 20px auto;
            display: flex;
            flex-direction: column;
            gap: 10px;
          }
          
          .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 15px;
            width: 100%;
            padding-bottom: 10px;
          }
          
          .header h2 {
            min-width: fit-content;
          }
          
          .server-message {
            width: 100%;
            padding: 16px;
            border-radius: 5px;
          }
          
          
          .file {
            width: 100%;
            height: 100%;
            position: absolute;
            opacity: 0;
            z-index: 2;
            cursor: pointer;
          }
          .container {
            display: flex;
            align-items: center;
            flex-direction: column;
            height: fit-content;
            margin-bottom: 20px;
        }

        /* Audio list styles */
        #audioList {
            max-width: 800px;
            width: 100%;
            padding: 20px;
            border: 2px solid #ccc;
            border-radius: 10px;
            background-color: #f9f9f9;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

        .audioItem {
            margin-bottom: 10px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-direction: column;
            margin-top: 2px;
            margin-bottom: 2px;
        }

        .audioItem audio {
            width: 80%;
        }

        .audioItem button {
            background-color:#c82333;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 5px 10px;
           height: 2rem;
           width: 4rem;
            cursor: pointer;
        }

        .audioItem button:hover {
            background-color: #c82333;
        }

        #deleteAllButton {
            background-color: #dc3545;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
            cursor: pointer;
        }

        #deleteAllButton:hover {
            background-color: #c82333;
        }
        .upload{
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            flex-direction: column;
            height: fit-content;
            justify-content: center;
            gap: 20px;
            margin: 2rem 2rem 2rem 2rem;
            
        }
        
            button {
                width: 200px; /* Adjust width as needed */
                height: 50px; /* Adjust height as needed */
                font-size: 16px; /* Adjust font size as needed */
                background-color: #0082e6;
                border-radius: 5px;
                border: none;
            }
            
        #searchInput{
            height: 2.2rem;
            width: 30rem;
            border-radius: 8px;
            border: none;
            padding: 2px 2px 2px 2px;
            color: black;
            font-size: 18px;
        }
        .highlight {
            background-color: yellow; 
        }
        #audioFileInput{
            background-color: #0082e6;
            padding: 10px 10px 10px 10px ;
            font-size: 20px;
            border-radius: 5px;
            width: 100%;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .preloaded {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            height: fit-content;
            justify-content: space-evenly;
        }
        h5{
            text-align: center;
        }
        #preaudiolist {
            width: 350px;
            padding: 20px;
            border: 2px solid #ccc;
            border-radius: 10px;
            background-color: #f9f9f9;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            align-items: center;
        }
           
    </style>
</head>
<body>
    <div class="bar">
        <nav>
            <input type="checkbox" id="check">
            <label for="check" class="checkbtn">
                <i class="fas fa-bars"></i>
            </label>
            <label class="logo">Lamhe</label>
            <ul>
        
                <!-- <li><input type="text" id="searchInput" placeholder="Search" oninput="searchAudios()"></li> Search bar -->
                <li><a href="home.html">Home</a> </li>

            </ul>
        </nav>

        <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    </div>
     <div class="upload">
            <div><input type="file" id="audioFileInput" accept="audio/*" multiple ></div>
            <div><button onclick="uploadAudios()" >Upload</button></div>
           <div id="errorDisplay" class="error" style="display: none;"><p>Incorrect FileType or Audio alreday Uploaded</p></div>
    </div> 
    <h2 style="text-align: center;">Preloaded Audio Library</h2>
    <br>
    <div class="preloaded">
        
        
    <div id="preaudiolist" >
        <h5>Lamhey . Anubha Bajaj</h5>
        <br>
        <audio controls>
            <source src="Lamhey . Anubha Bajaj.mp3" type="audio/ogg">
        </audio>
    </div>
    <div id="preaudiolist" >
        <h5>Khwab.Iqlipse Nova</h5>
        <br>
        <audio controls>
            <source src="khwab. Iqlipse Nova.mp3" type="audio/ogg">
        </audio>
    </div>
    <div id="preaudiolist" >
        <h5>Khaabon Ke Parinday</h5>
        <br>
        <audio controls>
            <source src="Khaabon Ke Parinday.mp3" type="audio/ogg">
        </audio>
    </div>
    <div id="preaudiolist" >
        <h5>oo gujariya . Nikhil D</h5>
        <br>
        <audio controls>
            <source src="oo gujariya . Nikhil D.mp3" type="audio/ogg">
        </audio>
    </div>
    <div id="preaudiolist" >
        <h5>Mera jo safar hai .Iqlipse Nova-</h5>
        <br>
        <audio controls>
            <source src="Mera jo safar hai .Iqlipse Nova--hindi.mp3" type="audio/ogg">
        </audio>
    </div>
      
    </div>
  
           <div class="container">
            <h2>Uploaded Audio Library</h2>
        <br>
                <div id="audioList"></div>
                <button id="deleteAllButton" onclick="deleteAllAudios()">Delete All</button>
            </div>
        
 
    <script>
    
        let uploadedFiles = []; // Array to store uploaded filenames
        function uploadAudios() {
    const fileInput = document.getElementById('audioFileInput');
    const audioList = document.getElementById('audioList');
    const errorDisplay = document.getElementById('errorDisplay');
    const files = fileInput.files;

    if (files.length > 0) {
        for (let i = 0; i < files.length; i++) {
            const file = files[i];
            if (!uploadedFiles.includes(file.name)) { // Check if file already uploaded
                if (file.type.startsWith('audio/')) { // Check if file is an audio file
                    const audioItem = document.createElement('div');
                    audioItem.classList.add('audioItem');

                    const audio = document.createElement('audio');
                    audio.controls = true;
                    audio.src = URL.createObjectURL(file);

                    const deleteButton = document.createElement('button');
                    deleteButton.textContent = 'Delete';
                    deleteButton.addEventListener('click', function() {
                        deleteAudio(audioItem, file.name);
                    });

                    const fileNamePara = document.createElement('p'); // Create paragraph for file name
                    fileNamePara.textContent = file.name; // Set text content to file name

                   // Append file name paragraph
                   audioItem.appendChild(fileNamePara); 
                    audioItem.appendChild(audio);
                   
                    audioItem.appendChild(deleteButton);
                    audioList.appendChild(audioItem);

                    uploadedFiles.push(file.name);
                    errorDisplay.style.display = 'none'; // Add filename to uploaded files list
                } else {
                    errorDisplay.style.display = 'block'; // Display error message if file is not audio
                }
            } else {
                errorDisplay.style.display = 'block'; // Display error message if file already exists
            }
        }
    }
     document.getElementById('audioFileInput').value = '';
}

        function deleteAudio(audioItem, fileName) {
            audioItem.remove(); // Remove audio item from list
            uploadedFiles = uploadedFiles.filter(item => item !== fileName); // Remove filename from uploaded files list
        }

        function deleteAllAudios() {
            const audioList = document.getElementById('audioList');
            audioList.innerHTML = ''; // Clear the audio list
            uploadedFiles = []; // Clear the uploaded files list
        }
        function searchAudios() {
            const searchInput = document.getElementById('searchInput').value.toLowerCase();
            const audioItems = document.querySelectorAll('.audioItem');
        
            audioItems.forEach(audioItem => {
                const audio = audioItem.querySelector('audio');
                const fileName = audio.src.split('/').pop(); // Extract filename from audio source
        
                if (fileName.toLowerCase().includes(searchInput)) {
                    audioItem.style.display = 'block'; // Show audio item if filename matches search query
                    audioItem.classList.add('highlight'); // Add highlight class to matched audio item
                } else {
                    audioItem.style.display = 'none'; // Hide audio item if filename does not match search query
                    audioItem.classList.remove('highlight'); // Remove highlight class from unmatched audio item
                }
            });
        }
        
        
    </script>

</body>

</html>